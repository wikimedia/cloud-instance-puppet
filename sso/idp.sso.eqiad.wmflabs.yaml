mcrouter::port: 11213
profile::base::firewall::block_abuse_nets: true
profile::envoy::ensure: present
profile::idp::actuators:
- prometheus
- sso
- ssoSessions
profile::idp::deploy_deb: true
profile::idp::idp_failover: idp2001.wikimedia.org
profile::idp::idp_primary: idp1001.wikimedia.org
profile::idp::is_staging_host: false
profile::idp::ldap_attributes:
- cn
- memberOf
- mail
- mfa-method
profile::idp::max_session_length: 604800
profile::idp::memcached::enable_tls: true
profile::idp::memcached::ensure: present
profile::idp::memcached::idp_nodes: []
profile::idp::memcached::mcrouter_cluster: idp
profile::idp::memcached::ssl_cert: '%{facts.puppet_config.hostcert}'
profile::idp::memcached::ssl_key: '%{facts.puppet_config.hostprivkey}'
profile::idp::memcached_enable: true
profile::idp::services:
  labs:
    access_strategy:
      '@class': org.apereo.cas.services.DefaultRegisteredServiceAccessStrategy
    attribute_release_policy:
      '@class': org.apereo.cas.services.ReturnAllAttributeReleasePolicy
    class: org.apereo.cas.services.RegexRegisteredService
    id: 1
    service_id: https://.*\.wmflabs(.org)?/
profile::java::egd_source: /dev/urandom
profile::java::hardened_tls: true
profile::prometheus::memcached_exporter::arguments: --memcached.address=localhost:11000
profile::tlsproxy::envoy::acme_cert_name: idp
profile::tlsproxy::envoy::capitalize_headers: false
profile::tlsproxy::envoy::services:
- port: 8080
  server_names:
  - '*'
profile::tlsproxy::envoy::upstream_addr: 127.0.0.1
profile::tlsproxy::envoy::use_remote_address: true
profile::tlsproxy::instance::ssl_compatibility_mode: strong
